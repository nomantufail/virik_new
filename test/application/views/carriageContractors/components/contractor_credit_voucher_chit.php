<div id="contractor_credit_chit_popup" class="contractor_credit_chit_popup">    <style>        .custom_accounts_inputs select{            height: 30px;            width: 100%;            font-size:12px;        }        .custom_accounts_inputs input{            height: 30px;            width: 100%;            font-size: ;        }        .custom_accounts_inputs .lable{            color: gray;            font-weight: bold;        }        .custom_accounts_inputs fieldset{            margin-top: 10px;        }    </style>    <script>        function fetch_agents(agent, callback){            var agents_area = document.getElementById("agents_area");            $.get("<?=base_url()."accounts/fetch_agents/"?>"+agent,function(data,status){                agents_area.innerHTML= data;                callback();            });        }        function agent_type_changed()        {            var agent_type_selected_index = document.getElementById("agent_type").selectedIndex;            var agent_type = document.getElementById("agent_type").options[agent_type_selected_index].value;            if(agent_type != ''){                document.getElementById('agents_area').innerHTML = '<span style="font-style: italic; color: gray;">Loading...</span>';                fetch_agents(agent_type,function(){                });            }        }        function get_contractor_credit_voucher()        {            var url = ""            var trip_id = document.getElementById('contractor_credit_voucher_trip_id').value;            var trip_detail_id = document.getElementById('contractor_credit_voucher_trip_detail_id').value;            var voucher_type = document.getElementById('contractor_credit_voucher_type').value;            var credit_amount = document.getElementById('contractor_credit_amount').value;            var total_creditable_amount = document.getElementById('contractor_total_creditable_amount').value;            credit_amount = (credit_amount == '')?0:credit_amount;            var agent_type_selected_index = document.getElementById("agent_type").selectedIndex;            var agent_type = document.getElementById("agent_type").options[agent_type_selected_index].value;            agent_type = (agent_type == '')?'none':agent_type;            var agent_id = 'none'            if(agent_type != 'none'){                var agent_id_selected_index = document.getElementById("agent_id").selectedIndex;                var agent_id = document.getElementById("agent_id").options[agent_id_selected_index].value;            }            var date = document.getElementById('contractor_credit_date').value;            date = (date == '')?'none':date;            var other_info = document.getElementById('contractor_credit_other_info').value;            other_info = (other_info == '')?'none':other_info;            //preparing the url            url = "<?= base_url()."accounts/contractor_credit_voucher/" ?>"+trip_id+"/"+trip_detail_id+"/"+total_creditable_amount+"/"+credit_amount+"/"+agent_type+"/"+agent_id+"/"+date+"/"+other_info+"/"+voucher_type;            //setting the url            var test_link = document.getElementById("get_contractor_credit_voucher");            test_link.setAttribute('href', url);            test_link.className+=" mfp-close";        }    </script>    <div>        <div id="voucher_area">            <script>            </script>            <div class="row" style="">                <div class="col-lg-12 text-center" style="color: #269abc">                    <h3>Credit Entry</h3><hr>                </div>                <div class="col-md-12 center-block">                    <!--Hidden fields-->                    <input type="hidden" name="trip_detail_id" value="<?= $trip_detail_id ?>" id="contractor_credit_voucher_trip_detail_id" required="required">                    <input type="hidden" name="trip_id" value="<?= $trip_id ?>" id="contractor_credit_voucher_trip_id" required="required">                    <input type="hidden" name="total_creditable_amount" value="<?= $total_creditable_amount ?>" id="contractor_total_creditable_amount">                    <input type="hidden" name="voucher_type" value="<?= $voucher_type ?>" id="contractor_credit_voucher_type">                    <!--*********************************************-->                    <div class="col-sm-12 form-group" style="margin-top: 5px;">                        <label class="col-md-4 control-label">Trip ID</label>                        <div class="col-lg-8">                            <span id="contractor_credit_voucher_trip_id_label"><?= $trip_id ?></span>                        </div>                    </div>                    <div class="col-sm-12 form-group" style="margin-top: 5px;">                        <label class="col-md-4 control-label">Credit Amount</label>                        <div class="col-lg-8">                            <input class="form-control" value="<?= $total_creditable_amount ?>" type="number" step="any" max="<?= $total_creditable_amount ?>" required="required" id="contractor_credit_amount" name="contractor_credit_amount" placeholder="credit amount..">                        </div>                    </div>                    <div class="col-sm-12 form-group" style="margin-top: 5px;">                        <label class="col-md-4 control-label">Related Agent (credit)</label>                        <div class="col-md-4">                            <select class="form-control" id="agent_type" onchange="agent_type_changed()" name="agent_type">                                <option value="">None</option>                                <option value="other_agents">Other Agent</option>                                <option value="customers">Customer</option>                                <option value="carriage_contractors">Contractor</option>>                                <option value="companies">Company</option>                            </select>                        </div>                        <div class="col-md-4" id="agents_area">                        </div>                    </div>                    <div class="col-sm-12 form-group" style="margin-top: 5px;">                        <label class="col-md-4 control-label">Date</label>                        <div class="col-md-8">                            <input class="form-control" id="contractor_credit_date" type="date" value="<?= date('Y-m-d') ?>" name="date">                        </div>                    </div>                    <div class="col-sm-12 form-group" style="margin-top: 5px;">                        <label class="col-md-4 control-label">Other Info:</label>                        <div class="col-md-8">                            <input class="form-control" type="text" value="" name="other_info" id="contractor_credit_other_info" maxlength="100">                        </div>                    </div>                    <div class="col-sm-12 form-group" style="margin-top: 5px;">                        <label class="col-md-4 control-label"></label>                        <div class="col-lg-8">                            <a href="#" id="get_contractor_credit_voucher" onclick="get_contractor_credit_voucher()" class="fetch_contractor_credit_voucher btn btn-success" style="width: 100%;">Generate Voucher</a>                        </div>                    </div>                </div>            </div>        </div>    </div>    <script src="<?= js()."jquery.magnific-popup.min.js"; ?>"></script>    <script>        $('.fetch_contractor_credit_voucher').magnificPopup({            type: 'ajax',            showCloseBtn:false        });    </script></div>